div#admin-misc.container-fluid.view
    script#menu-add-save(type="text/html")
        include menu-add-save-tpl
    script#menu-edit(type="text/html")
        include menu-edit-tpl
    div.row
        div.col-sm-12
            a(data-bind="click: mainNavlinks.toggle", href="javascript:void 0")
                h3(data-bind="translate: 'MAIN_MENU'")
    div(data-bind="if: mainNavlinks.visible")
        div.row(data-bind="template: {name: 'menu-add-save', data: mainNavlinks}")
        form.form(role="form", data-bind="attr: {id: mainNavlinks.formId, name: mainNavlinks.formId}, template: {name: 'menu-edit', data: mainNavlinks}, submit: mainNavlinks.save")
        div.row(data-bind="visible: mainNavlinks.navlinks().length>2, template: {name: 'menu-add-save', data: mainNavlinks}")
        div.row(data-bind="visible: mainNavlinks.navlinks().length")
            div.col-sm-12
                h4(data-bind="translate: 'PREVIEW'")
        div.row
            div.col-sm-12
                nav
                    ul.list-unstyled.list-inline(data-bind="foreach: {data: mainNavlinks.navlinks, as: 'navlink'}")
                        li
                            a.btn(data-bind="attr: {href: navlink.url, target: navlink.newWindow()?'_blank':''}, css: {'disabled': navlink.disabled}, visible: navlink.visible")
                                span(data-bind="attr: {'class': 'glyphicon '+navlink.icon()}")
                                span &nbsp;
                                b(data-bind="text: navlink.text")
    div.row
        div.col-sm-12
            a(ng-click='showFooterMenuEditor=!showFooterMenuEditor', href='javascript:void(0)')
                h3 {{'FOOTER_MENU' | translate}}
    div(ng-show='showFooterMenuEditor')
        div.row(jelly-menu-add-save, save='saveNavlinks', add='addNavlink', category='"footer"', save-disabled='footerNavlinksForm.$invalid || footerNavlinksForm.$pristine')
        form.form(role='form', name='footerNavlinksForm', jelly-menu-editor, navlinks='footerNavlinks')
        div.row(ng-show='footerNavlinks.length>2', jelly-menu-add-save, save='saveNavlinks', add='addNavlink', category='"footer"', save-disabled='footerNavlinksForm.$invalid || footerNavlinksForm.$pristine')
        div.row(ng-show='!!footerNavlinks.length')
            div.col-sm-12
                h4 {{'PREVIEW' | translate}}
        div.row
            div.col-sm-12
                nav
                    ul.list-unstyled
                        li(ng-repeat='navlink in footerNavlinks | filter: {willRemove: false, visible: true}')
                            a(ng-href='{{navlink.url}}', ng-class='{"disabled": navlink.disabled}', target='{{navlink.newWindow? "_blank":""}}')
                                span.glyphicon(class='{{navlink.icon}}')
                                b &nbsp;{{navlink.text}}
    div.row
        div.col-sm-12
            a(ng-click='showSettingsEditor=!showSettingsEditor', href='javascript:void(0)')
                h3 {{'SETTINGS_EDITOR' | translate}}
    div(ng-show='showSettingsEditor')
        form.form.form-horizontal(role='form', name='settingsForm')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='authorDisplayName') {{'AUTHOR_DISPLAY_NAME' | translate}}:
                    div.col-lg-8.cl-md-8.col-sm-8
                        input.form-control(id='authorDisplayName', type='text', ng-model='settings.authorDisplayName', required, placeholder='Author display name')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='authorDisplayBio') {{'AUTHOR_DISPLAY_BIO' | translate}}:
                    div.col-lg-8.cl-md-8.col-sm-8
                        input.form-control(id='authorDisplayBio', type='text', ng-model='settings.authorDisplayBio', placeholder='Author display bio')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='authorTwitterScreenName') {{'AUTHOR_TWITTER_NAME' | translate}}:
                    div.col-lg-8.cl-md-8.col-sm-8
                        input.form-control(id='authorTwitterScreenName', type='text', ng-model='settings.authorTwitterScreenName', placeholder='Author twitter screen name')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='footerAnnotation') {{'FOOTER_ANNOTATION' | translate}}:
                    div.col-lg-8.cl-md-8.col-sm-8
                        input.form-control(id='footerAnnotation', type='text', ng-model='settings.footerAnnotation', placeholder='Annotation')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='postsPerPage') {{'POSTS_PER_PAGE' | translate}}:
                    div.col-lg-8.cl-md-8.col-sm-8
                        input.form-control(id='postsPerPage', type='number', ng-model='settings.postsPerPage', required, placeholder='Annotation')
            div.row
                div.form-group
                    label.col-lg-4.col-md-4.col-sm-4.control-label(for='authorAvatarUrl') {{'AUTHOR_AVATAR_URL' | translate}}:
                    div.col-lg-4.cl-md-4.col-sm-4
                        input.form-control(id='authorAvatarUrl', type='text', ng-model='settings.authorAvatarUrl', placeholder='Avatar url')
                    div.col-lg-4.cl-md-4.col-sm-4
                        img.img-rounded.bg-warning(style='max-height:100px;max-width:100px;', ng-src='{{settings.authorAvatarUrl}}')
            div.row
                div.col-sm-12
                    div.btn-group.btn-group-sm
                        button.btn.btn-primary(ng-click='saveSettings()', ng-disabled='settingsForm.$invalid || settingsForm.$pristine')
                            span.glyphicon.glyphicon-save
                            span &nbsp;{{'SAVE' | translate}}




